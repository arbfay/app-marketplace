<template name="searchResults">
  <div class="row firstRow">
    <div class="col m7 s12">
      <div class="section">
        <div class="row">
          {{> searchbarForResults}}
        </div>
        <div class="row">
          <div class="center-align">
            <div class="col s4">
              <input type="checkbox" id="categoryYoga" checked />
              <label for="categoryYoga">Yoga</label>
            </div>

            <div class="col s4">
              <input type="checkbox" id="categoryPilates" checked />
              <label for="categoryPilates">Pilates</label>
            </div>

            <div class="col s4">
              <input type="checkbox" id="categoryTaiChi" checked />
              <label for="categoryTaiChi">Tai Chi</label>
            </div>
          </div>
        </div>
        <div class="divider"></div>
        <div class="row" style="max-height:100vh;overflow:auto;">
          <ul>
            {{#each res in results}}
              {{>lessonCard res}}
            {{/each}}
          </ul>
        </div>
      </div>
      <div class="container">
        <div class="row center-align">
          <button class="btn-flat btn-large showMore">
            Afficher plus
          </button>
        </div>
      </div>
    </div>

    <div class="col m5 hide-on-small-only" style=" padding-right:0px !important;">
      <div class="map-container" style="
      width: 100%;
      height: 120vh;
      min-height:100%;
      padding-top:30px;
      position:relative;
      ">
        {{> googleMap name="map" options=mapOptions}}
      </div>
    </div>
  </div>
</template>

<template name="filterCategory">
  <div class="center-align">
    <div class="col s4">
      <input type="checkbox" id="categoryYoga" checked />
      <label for="categoryYoga">Yoga</label>
    </div>

    <div class="col s4">
      <input type="checkbox" id="categoryPilates" checked />
      <label for="categoryPilates">Pilates</label>
    </div>

    <div class="col s4">
      <input type="checkbox" id="categoryTaiChi" checked />
      <label for="categoryTaiChi">Tai Chi</label>
    </div>
  </div>
</template>

<template name="lessonsResults">
  <ul>
    {{#each res in results}}
      {{>lessonCard res}}

    {{/each}}
  </ul>
</template>

<template name="lessonCard">
  <li class="col m6 s12">
    <div class="card hoverable" style='padding-bottom:0px !important;'>
      <div class="card-image waves-effect waves-block waves-light">
        <div class="section" style="
        height:100%;
        width:100%;
        background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url({{imgUrl}}) no-repeat center center;
        -webkit-background-size: cover;
        -moz-background-size: cover;
        -o-background-size: cover;
        background-size: cover;
        ">
          <div class="container">
            <div class="row firstRow">
              <div class="col m10 push-m1 s12 center-align">
                <h4 class="mb8" style="color:white;">{{title}}</h4>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="card-content" style="padding-bottom:0px !important;">
        <table>
          <tr>
            <td>
              <i class="material-icons left">update</i>{{duration}} min
            </td>
            <td>
              <i class="material-icons left">event</i>{{dateForHuman}}
            </td>
            <td>
              <i class="material-icons left">access_time</i>{{timeForHuman}}
            </td>
          </tr>
          <tr>
            <td>
              <i class="material-icons left">euro_symbol</i>{{price}}
            </td>
            <td>
              <i class="material-icons left">label_outline</i>{{category}}
            </td>
            <td>
              {{#if currentUser}}
                <button style="margin-bottom:0px;" class="btn btn-border-2 tooltipped"  data-position="right" data-delay="50" data-tooltip="En participant Ã  ce cours, vous pouvez gagner {{earning}} points.">
                  <i class="material-icons point-icon" style="font-size:1.1em;">control_points</i><span class="point-font">{{earning}}</span>
                </button>
              {{else}}
                <a href="{{path}}" class="btn red accent-2 btn-border-2">
                  Voir
                </a>
              {{/if}}
            </td>
          </tr>
        </table>
        {{#if currentUser}}
          <a href="{{path}}" class="btn red accent-2 btn-border-2">
            Voir
          </a>
        {{/if}}
      </div>
    </div>
  </li>
  <script>
    $(document).ready(function(){
      $('.tooltipped').tooltip({delay: 50,
      html:true});
    });
  </script>
</template>

<template name="map">
  <div class="map-container" style="
  width: 100%;
  height: 100vh;
  min-height:100%;
  padding-top:30px;
  position:relative;
  z-index: -1;
  ">
    {{> googleMap name="map" options=mapOptions}}
  </div>
</template>
