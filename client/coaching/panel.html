<!--<template name="coachingPanel">
  <div class="row firstRow" style="height:100vh;">
    <div class="col m3" style="background-color : #292929; color:white;height:100%;">

      <ul class="tabs tabs-transparent">
        <li class="tab">
          <a href="#pastLessons">Passés</a>
        </li>
        <li class="tab">
          <a href="#comingLessons">Mes cours</a>
        </li>
      </ul>
      <ul class="collection" id="pastLessons">
        {{#each lesson in coachLessons}}
           {{> coachingLessonItem lesson}}
        {{/each}}
      </ul>
      <ul class="collection" id="comingLessons">
        {{#each lesson in coachLessons}}
           {{> coachingLessonItem lesson}}
        {{/each}}
      </ul>
    </div>

    <div class="col m9">
      <div class="row" style="margin-top:40px;">
        <div class="col m9">
          <div class="row">
            <h4>{{title}}</h4>
            <h5>{{dateTime}}</h5>
          </div>
          <div class="row">
            {{> attendingListTemplate }}
          </div>
        </div>

        <div class="col m3">
          <ul>
            <li>
              <button class="btn red accent-3 waves-effect probBtn">
                Un problème ?
              </button>
            </li>
            <li>
              <button class="btn cyan darken-2 waves-effect addBtn">
                Ajouter un cours
              </button>
            </li>
            <li>
              <button class="btn light-green waves-effect editBtn">
                Modifier un cours
              </button>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</template> -->

<!--<template name="attendingListTemplate">
  <div class="card">
    <form>
      <div class="card-content">
        <ul class="collection">
          {{#each users}}
            <li class="collection-item">
              <div class="row">
                <div class="col s8">
                  <p class="flow-text" style="display:inline;">{{firstName}} {{lastName}}</p>
                  <p>{{birthdate}}</p>
                </div>
                <div class="col s4">
                  {{#if canGiveBonus}}
                    <button class="btn green accent-3 giveBonus">+ 10</button>
                  {{/if}}
                </div>
              </div>
            </li>
          {{/each}}
          {{#each nonUsers}}
            <li class="collection-item">
              <div class="row">
                <div class="col s8">
                  <p class="flow-text" style="display:inline;">{{firstNameNonUser}} {{lastNameNonUser}}</p>
                  <p>{{emailNonUser}}</p>
                  <p>{{commentNonUser}}</p>
                </div>
              </div>
            </li>
          {{/each}}

          <div class="center-align" style="margin-top:10px;">
            <a href="#modalFormNewAttendee" class="waves-effect waves-light btn blue darken-3 addAttendeeModalButton">Ajouter</a>
          </div>
          <form id="modalFormNewAttendee" class="modal">
              <div class="modal-content">
                <h4>Ajouter un participant non-membre</h4>
                <div class="row">
                  <div class="input-field col s6">
                    <input id="lastName" type="text" class="validate-required">
                    <label for="lastName">Nom</label>
                  </div>
                  <div class="input-field col s6">
                    <input id="firstName" type="text" class="validate-required">
                    <label  for="firstName">Prénom</label>
                  </div>
                </div>
                <div class="row">
                  <div class="input-field col s12">
                    <input id="email" type="email" class="validate">
                    <label  for="email">Adresse e-mail</label>
                  </div>
                </div>
                <div class="row">
                  <div class="input-field col s12">
                    <input id="comment" type="text" class="validate">
                    <label  for="comment">Commentaire</label>
                  </div>
                </div>
              </div>
              <div class="modal-footer">
                <button class="btnModal modal-action modal-close waves-effect waves-green btn-flat" type="submit">Ajouter</button>
              </div>
          </form>
        </ul>
      </div>
    </form>
  </div>
</template>-->

<!-- <template name="coachingLessonItem">
  <li class="collection-item"><a href='#!'>
    <div class="">
      {{title}}
    </div>
    <div class="">
      {{dateForHuman}}
    </div>
  </a></li>
</template> -->

<template name="coachingPanel">
<div class="grey lighten-4">
  <div class="row">
    <div class="col s12">
      <h3 class="card-panel center-align">Panneau de gestion</h3>
    </div>
  </div>
  {{#if Template.subscriptionsReady}}
  <div class="row">
    <div class="container col m9 s12">
      <div class="card-panel">
        <ul class="tabs">
          <li class="tab col m3">
            <a href="#coachingProfile">Mon profil</a>
          </li>
          <li class="tab col m3">
            <a href="#coachingLessons">Mes cours</a>
          </li>
          <li class="tab col m3">
            <a href="#coachingClients">Mes clients</a>
          </li>
          <li class="tab col m3">
            <a href="#coachingCards">Mes cartes</a>
          </li>
        </ul>
        <div id="coachingProfile">
          {{> coachingProfile}}
        </div>
        <div id="coachingLessons">
          {{> coachingLessons}}
        </div>
        <div id="coachingClients">
          {{> coachingClients}}
        </div>
        <div id="coachingCards">
          {{> coachingCards}}
        </div>
      </div>
    </div>

    <div class="col m3 hide-on-small-only">
      <div class="card-panel">
        Toutes les séances sur votre Panneau de Gestion
        sont automatiquement référencées sur le site web
        pour que les utilisateurs puissent réserver
        leur place.
      </div>
      <div class="card-panel">
        A chaque fois que vous inscrivez un client
        à l'une de vos séances, le nombre de place
        est automatiquement diminué.
      </div>
      <div class="card-panel">
        Seul les personnes s'étant inscrites par le site
        web peuvent participer au concours mensuel et espérer
        gagner un cadeau.
      </div>
      <div class="card-panel">
        Pour des raisons de sécurité, vos informations
        bancaires ne peuvent être modifiées qu'en contactant
        directement notre équipe.
      </div>
      <div class="card-panel">
        Pour pouvoir aider les individus à pratiquer
        une activité physique régulière, nous devons
        travailler avec toutes les parties prenantes.
        Cela signifie que nous devons travailler avec
        les professionnels qui enseignent leur passion
        au quotidien. Ainsi, l'outil de gestion est
        gratuit dans son utilisation, pour que vous
        n'ayez plus d'excuses pour ne pas nous rejoindre
        dans cette mission.
      </div>
    </div>
  </div>
  {{else}}
  <div class="center-align" style="margin-top:20vh; margin-bottom:20vh;">
    {{> loading}}
  </div>
  {{/if}}
</div>
  <script>
    $(document).ready(function(){
    $('ul.tabs').tabs();
    });
  </script>
</template>

<template name="coachingProfile">
  <br>
  	<div class="row" id="main">
          <div class="col m6 well" id="leftPanel">
              <div class="row">
                  <div class="col m12">
                  	<div>
      				        <img src="http://lorempixel.com/200/200/abstract/1/" alt="Profile Picture" class="circle" width="156px;">
  				            <h3>Fayçal Arbai</h3>
                      <p style="color:#757575;">
                        <i class="material-icons" style="color:#757575;">location_on</i>
                        Rue de la Science 23, 1000 Bruxelles
                      </p>
                      <p>
                        faycal@trys.be
                      </p>
  				            <p>
                        Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
  				              tempor incididunt ut labore et dolore magna aliqua.
                      </p>
                      <p>

                      </p>
                    </div>
          			  </div>
          		</div>
            </div>
            <div class="col m6 well" id="rightPanel">
              <div class="row">
                <div class="col m12">
      	           <form >
  			              <h2>Modifier vos informations<small></small></h2>
                  			<div class="row">
                          <div class="input-field col s6">
                            <input id="lastName" type="text" class="validate-required" value="">
                            <label for="lastName">Nom</label>
                          </div>
                          <div class="input-field col s6">
                            <input id="firstName" type="text" class="validate-required" value="">
                            <label for="firstName">Prénom</label>
                          </div>
                  			</div>
                        <div class="row">
                          <div class="input-field col s12">
                            <input id="address" type="text" class="validate-required" value="">
                            <label for="address">Adresse</label>
                          </div>
                        </div>
                        <div class="row">
                          <div class="input-field col s12">
                            <textarea id="description" length="300" class="materialize-textarea"></textarea>
                            <label for="description">Description (max. 300 lettres)</label>
                          </div>
                        </div>
              			<div class="row">
              				<div class="col xs12 col m6"></div>
              				<div class="col xs12 col m6"><a href="#" class="btn btn-lg red accent-2">Enregistrer</a></div>
              			</div>
              		</form>
  	</div>
  </div>
</div>
</div>
</template>

<template name="coachingLessons">
  <div class="row">
    <div class="col s12 m10">
      <ul class="tabs">
        <li class="tab col m6">
          <a href="#pastLessons">Passé</a>
        </li>
        <li class="tab col m6">
          <a href="#futureLessons">À venir</a>
        </li>
      </ul>
      <div id="pastLessons">
        {{> pastLessons}}
      </div>
      <div id="futureLessons">
        {{> futureLessons}}
      </div>
    </div>
    <div class="col m2 s12">
      <button class="btn blue darken-2" style="margin-top:30px;">Ajouter</button>
      <button class="btn red accent-2">Signaler</button>
    </div>
  </div>
  <script>
    $(document).ready(function(){
      $('ul.tabs').tabs();
    });
  </script>
</template>

<template name="pastLessons">
  <ul class="collapsible popout" data-collapsible="accordion">
    {{#each lessons}}
    <li>
      <div class="collapsible-header">
        <i class="material-icons" style="font-size:40px;">arrow_drop_down</i>
        <b style="font-size:24px;">{{title}}</b>
        {{dateTime}}
      </div>
      <div class="collapsible-body"><p>{{shortDesc}}</p></div>
    </li>
    {{else}}
      Aucun cours passé.
    {{/each}}
  </ul>
  <script>
    $(document).ready(function(){
      $('.collapsible').collapsible();
    });
  </script>
</template>

<template name="futureLessons">
  <ul class="collapsible popout" data-collapsible="accordion">
    {{#each lessons}}
      <li>
        <div class="collapsible-header">
          <i class="material-icons" style="font-size:40px;">arrow_drop_down</i>
          <b style="font-size:24px;">{{title}}</b>
          {{dateTime}}
        </div>
        <div class="collapsible-body">

          <p>{{shortDesc}}</p>

        </div>
      </li>
    {{else}}
      Aucun cours à venir.
    {{/each}}
  </ul>
  <script>
    $(document).ready(function(){
      $('.collapsible').collapsible();
    });
  </script>
</template>


<template name="coachingClients">
  <br style="margin-top:20px;">
  <p class="flow-text">Vous pouvez gérer vos clients qui n'utilisent pas Trys en
     les enregistrant ici gratuitement.</p>
     <div class="row">
       <div class="col s12 m10">
         <table>
           <thead>
             <tr>
               <th>Nom</th>
               <th>Prénom</th>
               <th>E-mail</th>
               <th>Tel</th>
               <th>Carte</th>
               <th>Actions</th>
             </tr>
           </thead>
           <tbody>
            {{#each clients}}
               <tr>
                 <td data-column="Nom">{{lastName}}</td>
                 <td data-column="Prénom">{{firstName}}</td>
                 <td data-column="E-mail">{{email}}</td>
                 <td data-column="Tel">{{tel}}</td>
                 <td data-column="Carte">{{card.name}}</td>
                 <td data-column="Actions">
                   <a class="editClient"><i class="material-icons">edit</i></a>
                   <a class="deleteClient"><i class="material-icons">delete</i></a>
                 </td>
               </tr>
            {{else}}
              <tr>
                <td data-column="Nom">-</td>
                <td data-column="Prénom">-</td>
                <td data-column="E-mail">-</td>
                <td data-column="Tel">-</td>
                <td data-column="Carte">-</td>
                <td data-column="Actions">
                  -
                </td>
              </tr>
            {{/each}}
           </tbody>
         </table>
       </div>
       <div class="col s6 m2">
         <a href="#modalAddClientForm" class="modal-trigger btn red blue darken-2">
           Ajouter</a>
       </div>
    </div>

    <div id="modalAddClientForm" class="modal">
        <div class="modal-content">
          <h3>Ajouter un client</h3>
          <form id="addCoachingClient" >
            <div class="row">
              <div class="input-field col s6">
                <input id="firstName" name="firstName" type="text" class="validate-required">
                <label for="firstName">Prénom</label>
              </div>
              <div class="input-field col s6">
                <input id="lastName" name="lastName" type="text" class="validate-required">
                <label for="lastName">Nom</label>
              </div>
            </div>
            <div class="row">
              <div class="input-field col s6">
                <input id="email" type="email" name="email" class="validate-required">
                <label for="email">E-mail</label>
              </div>
              <div class="input-field col s6">
                <input id="tel" type="text" name="tel" class="validate">
                <label for="tel">Téléphone</label>
              </div>
            </div>
            <div class="row">
              <div class="input-field col s8">
                <select id="selectCoachCards" name="card">
                  <option value="" disabled selected>Dispose d'une carte ?</option>
                  <option value="0">Pas de carte</option>
                  {{coachCards}}
                </select>
              </div>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="submit" form="addCoachingClient" class="modal-action modal-close">
            Enregistrer</button>
        </div>
    </div>
    <script>
      $(document).ready(function(){
        $('.modal-trigger').leanModal();
        $("#selectCoachCards").on('change', function() {
            $('#selectCoachCards').material_select();
        });
      });
    </script>
</template>

<template name="coachingCards">
  <br>
  <div id="modalAddCardForm" class="modal">
      <div class="modal-content">
        <h3>Créer une nouvelle carte</h3>
        <form id="addCoachingCard" >
          <div class="row">
            <div class="input-field col s12">
              <input id="name" type="text" class="validate-required">
              <label for="name">Nom de la carte</label>
            </div>
          </div>
          <div class="row">
            <div class="input-field col s6">
              <input id="maxAttendings" type="number" minimum="0" class="validate-required">
              <label for="maxAttendings">Nombre de places</label>
            </div>
            <div class="input-field col s6">
              <input id="duration" type="number" class="validate-required">
              <label for="duration">Durée de validité (en mois)</label>
            </div>
          </div>
          <div class="row">
            <div class="input-field col s6">
              <input id="price" type="number" minimum="0" class="validate-required">
              <label for="price">Prix de la carte</label>
            </div>
          </div>
        </form>
      </div>
      <button type="submit" form="addCoachingCard" class="modal-action modal-close">
        Enregistrer</button>
  </div>
  <div class="row">
    <div class="row">
      <div class="col m5 s10">
        <a href="#modalAddCardForm" class="modal-trigger btn red blue darken-2">
          Créer une nouvelle carte</a>
      </div>
    </div>

    <div class="row">
      <div class="container col s12">
        {{#each cards}}
          {{> coachingCard}}
        {{else}}
          Aucune carte enregistrée.
        {{/each}}
      </div>
    </div>
  </div>
  <script>
    $(document).ready(function(){
      $('.modal-trigger').leanModal();
    });
  </script>
</template>

<template name="coachingCard">
  <div class="col s6 m4 white-text">
    <div class="card-panel cyan darken-3" style="border-radius:10px !important">
      <div class="row"><h3 class="white-text">{{name}}</h3></div>
      <div class="row">
        <div class="col s8">
          <div class="row">
            pour {{maxAttendings}} places
          </div>
          <div class="row">
            Validité : {{duration}} mois
          </div>
        </div>
        <div class="col s4">
          <b><span style="font-size:35px;">{{price}}</span> €</b>
        </div>
      </div>
    </div>
  </div>
</template>
