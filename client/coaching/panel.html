
<template name="coachingPanel">
  {{>navbar}}

  <div class="row firstRow" style="background-color : #292929;">
    <div class="col m2 s12" style="color:white;">
      <div class="row">
        <div class="col s12 center-align" style="padding-top:10px;">
          {{#with coachProfile}}
            <img src="{{imgUrl}}" alt="Photo de profil" class="circle" width="156px;">
            <h4 class="white-text">{{lastName}} {{firstName}}</h4>
          {{/with}}
        </div>
      </div>
      <div class="row">
        <div class="collection menu-coach-panel">
          <a href="#!" class="collection-item cpHome">
            <i class="material-icons menu-item-panel">home</i>
            <span class="menu-item-panel">Accueil</span>
          </a>
          <a href="#!" class="collection-item cpProfile">
            <i class="material-icons menu-item-panel">perm_identity</i>
            <span class="menu-item-panel">Profil coach</span>
          </a>
          <a href="#!" class="collection-item cpLessons">
            <i class="material-icons menu-item-panel">event</i>
            <span class="menu-item-panel">Cours</span>
          </a>
          <a href="#!" class="collection-item cpClients">
            <i class="material-icons menu-item-panel">list</i>
            <span class="menu-item-panel">Clients</span>
          </a>
          <a href="#!" class="collection-item cpContact">
            <i class="material-icons menu-item-panel">question_answer</i>
            <span class="menu-item-panel">Ligne directe</span>
          </a>
        </div>
      </div>
    </div>

    <div class="col m10 s12" style="background-color:#f5f5f5; height:100%;">
      {{> Template.dynamic template=content}}
    </div>
  </div>

  {{>footer}}
</template>

<template name="coachingPanelHome">
  <h2>Bienvenue,</h2>
  <h4>Vos prochains cours</h4>
  <div class="row">
    {{#each lesson in nextLessons}}
      {{> basicCoachLessonCard lesson}}
    {{else}}
      <p>Aucun cours à venir. Vous devriez en ajouter !</p>
    {{/each}}
  </div>
  <h4>Statistiques</h4>
  <div class="row">
    {{#with stats}}
        <div class="col s3">
          <div class="card">
            <div class="card">
              <div class="card-content">
                <h3 class="center-align">{{clients}}</h3>
                <p class="center-align">clients</p>
              </div>
            </div>
          </div>
        </div>
        <div class="col s3">
          <div class="card">
            <div class="card">
              <div class="card-content">
                <h3 class="center-align">{{trysReservations}}</h3>
                <p class="center-align">réservations Trys</p>
              </div>
            </div>
          </div>
        </div>
        <div class="col s3">
          <div class="card">
            <div class="card">
              <div class="card-content">
                <h3 class="center-align">{{comingLessons}}</h3>
                <p class="center-align">cours à venir</p>
              </div>
            </div>
          </div>
        </div>
    {{else}}
      <p>Rien à afficher</p>
    {{/with}}
  </div>
  <h4>Il vaut mieux le savoir</h4>
  <div class="row">
    {{#each info in infoCards}}
      {{> basicInfoCard info}}
    {{else}}
    <div class="col s6 m3">
      <div class="card-panel">
        Toutes les séances sur votre Panneau de Gestion
        sont automatiquement référencées sur le site web
        pour que les utilisateurs puissent réserver
        leur place.
      </div>
    </div>
    {{/each}}
  </div>
</template>

<template name="basicInfoCard">
  <div class="col s6 m3">
    <div class="card-panel">
      {{content}}
    </div>
  </div>
</template>

<template name="basicCoachLessonCard">
  <div class="col s6 m4">
    <div class="card">
      <div class="card-image waves-effect waves-block waves-light">
        <div class="section" style="
        height:100%;
        width:100%;
        background: -moz-linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url({{imgUrl}}) no-repeat center center;
        background: -webkit-linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url({{imgUrl}}) no-repeat center center;
        background: -o-linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url({{imgUrl}}) no-repeat center center;
        background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url({{imgUrl}}) no-repeat center center;
        -webkit-background-size: cover;
        -moz-background-size: cover;
        -o-background-size: cover;
        background-size: cover;
        ">
          <div class="container">
            <div class="row firstRow">
              <div class="col m10 push-m1 s12 center-align">
                <h4 class="mb8" style="color:white;">{{title}}</h4>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="card-content">
        <span>{{dateTime}}<i class="material-icons right" >more_vert</i></span>
      </div>
      <div class="card-action">
        <a href="#" class="cpLesson">Voir</a>
      </div>
    </div>
  </div>
</template>

<template name="coachingPanelProfile">
  <br>
  <div class="row" id="main">
        <div class="col m6 s12 well" id="leftPanel">
            <div class="row">
                <div class="col m12">
                  <div class="card-panel">
                    {{#with coachProfile}}
                    <img src="{{imgUrl}}" alt="Photo de profil" class="circle" width="156px;">

                      <table class="bordered">
                        <tbody>
                          <tr>
                            <td>Nom</td>
                            <td><b>{{lastName}}</b></td>
                          </tr>
                          <tr>
                            <td>Prénom</td>
                            <td><b>{{firstName}}</b></td>
                          </tr>
                          <tr>
                            <td>E-mail</td>
                            <td><b>{{email}}</b></td>
                          </tr>
                          <tr>
                            <td>Téléphone</td>
                            <td><b>{{tel}}</b></td>
                          </tr>
                          <tr>
                            <td>Adresse</td>
                            <td><b>{{address}}</b></td>
                          </tr>
                          <tr>
                            <td>Description</td>
                            <td><b>{{description}}</b></td>
                          </tr>
                        </tbody>
                      </table>
                    {{/with}}
                  </div>
                </div>
            </div>
          </div>
          <div class="col m6 well" id="rightPanel">
            <div class="row">
              <div class="col m12">
                <div class="card-panel">
                 <form id="updateCoachProfile">
                    <h3>Modifier vos informations<small></small></h3>
                      <div class="row">
                        <div class="input-field col s6">
                          <input id="lastName" type="text" class="validate-required">
                          <label for="lastName">Nom</label>
                        </div>
                        <div class="input-field col s6">
                          <input id="firstName" type="text" class="validate-required">
                          <label for="firstName">Prénom</label>
                        </div>
                      </div>
                      <div class="row">
                        <div class="input-field col s12">
                          <input id="tel" type="text" class="validate-required">
                          <label for="tel">Téléphone</label>
                        </div>
                      </div>
                      <div class="row">
                        <div class="input-field col s12">
                          <input id="street" type="text" class="validate-required">
                          <label for="street">Rue</label>
                        </div>
                      </div>

                      <div class="row">
                        <div class="input-field col s6">
                          <input id="zip" type="text" class="validate-required" >
                          <label for="zip">Code Postal</label>
                        </div>
                        <div class="input-field col s6">
                          <input id="city" type="text" class="validate-required" >
                          <label for="city">Commune</label>
                        </div>
                      </div>
                      <div class="row">
                        <div class="input-field col s12">
                          <textarea id="description" length="300" class="materialize-textarea"></textarea>
                          <label for="description">Description (max. 300 lettres)</label>
                        </div>
                      </div>
                      <div class="row">
                        <div class="input-field col s12">
                          <div class="file-field input-field">
                            <div class="btn cyan darken-3">
                              <i class="material-icons left">insert_photo</i>
                              <span>Photo</span>
                              <input type="file" name="file" id="photo" accept="image/*" required>
                            </div>
                            <div class="file-path-wrapper">
                              <input class="file-path validate" type="text" placeholder="Nouvelle photo de profil.">
                            </div>
                          </div>
                        </div>
                      </div>
                  <div class="row">
                    <div class="col xs12 col m6">
                      <button type="submit" form="updateCoachProfile" class="btn red accent-3">
                        Enregistrer</button>
                    </div>
                  </div>
                </form>
              </div>
  </div>
  </div>
  </div>
  </div>
</template>

<template name="coachingPanelLessons">
  <div class="row">
  <div class="col s12">
    <p></p>
    <button class="btn blue darken-2 newLesson"><i class="material-icons left">event</i>Créer un cours</button>
    <button class="btn red accent-2 btnProblem"><i class="material-icons left">warning</i>Signaler un problème</button>
  </div>
  <div class="row">
    <div class="col s12 m10">
      <div class="card-panel">
        <ul class="tabs">
          <li class="tab col m6">
            <a href="#futureLessons">À venir</a>
          </li>
          <li class="tab col m6">
            <a href="#pastLessons">Passés</a>
          </li>
        </ul>
        <div id="futureLessons">
          <div class="row">
          {{#each lesson in comingLess}}
            {{> basicCoachLessonCard lesson}}
          {{else}}
            <p>Aucun cours à venir. Ajoutez-en un !</p>
          {{/each}}
          </div>
          {{#if moreComingLess}}
          <div class="row firstRow center-align">
            <button class="btn-flat btn-lg loadMore" >Voir plus</button>
          </div>
          {{/if}}
        </div>
        <div id="pastLessons">
          <div class="row">
          {{#each lesson in pastLess}}
            {{> basicCoachLessonCard lesson}}
          {{else}}
            <p>Aucun cours passé.</p>
          {{/each}}
          </div>
          {{#if morePastLess}}
          <div class="row firstRow center-align">
            <button class="btn-flat btn-lg loadMore" >Voir plus</button>
          </div>
          {{/if}}
        </div>
      </div>
    </div>
  </div>
</div>
  <script>
    $(document).ready(function(){
      $('ul.tabs').tabs();
    });
  </script>
</template>

<template name="coachingPanelLesson">
  <div class="row">
    <div class="row firstRow" style="padding-top:30px;">
      <button class="btn-flat btnReturn">
        <i class="material-icons left">keyboard_arrow_left</i>
        Retour</button>
      <button class="btn red accent-2 btnCancel">
        <i class="material-icons left">event_busy</i>Annuler le cours</button>
      <button class="btn cyan darken-3 btnUpdate">
        <i class="material-icons left">edit</i>Modifier le cours</button>
      <button class="btn blue darken-2 btnDuplicate">
        <i class="material-icons left">content_copy</i>Dupliquer le cours</button>
    </div>
    <div class="row">
      <div class="card-panel">
      {{#with lesson}}
      <div class="section" style="
      height:40vh;
      width:100%;
      background: -moz-linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url({{imgUrl}}) no-repeat center center;
      background: -webkit-linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url({{imgUrl}}) no-repeat center center;
      background: -o-linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url({{imgUrl}}) no-repeat center center;
      background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url({{imgUrl}}) no-repeat center center;
      -webkit-background-size: cover;
      -moz-background-size: cover;
      -o-background-size: cover;
      background-size: cover;

      ">
        <div class="container v-align-transform">
          <div class="row firstRow">
            <div class="col m10 push-m1 s12 center-align">
              <h2 class="mb8" style="color:white;">{{title}}</h2>
            </div>
          </div>
        </div>
      </div>
      <div class="card-panel red accent-2" style="color:white; max-width:100%;">
          <div class="row firstRow" style="font-size:14px;">
                <div class="col s3">
                  {{dateTime}}
                </div>
                <div class="col s3">
                </div>
                <div class="col s3">
                  {{duration}} min
                </div>
                <div class="col s3 center-align">
                  €
                  <span style="font-size:28px;">{{price}}</span>
                </div>
          </div>
      </div>
      <div class="row">
        <div class="col s12 m6">
          <div class="card-panel">
            <table class="bordered">
              <tbody>
                <tr>
                  <td>Courte description</td>
                  <td><b>{{shortDesc}}</b></td>
                </tr>
                <tr>
                  <td>Longue description</td>
                  <td><b>{{longDesc}}</b></td>
                </tr>
                <tr>
                  <td>Lieu</td>
                  <td><b>{{address}}</b></td>
                </tr>
                <tr>
                  <td>Instructions supplémentaires</td>
                  <td><b>{{instructions}}</b></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <div class="col s12 m6">
          <div class="card-panel">
            <h4>Liste des inscrits</h4>
            <span class="letter-circle">T</span> = utilisateur Trys &nbsp; &nbsp;
             <span class="letter-circle">C</span> = votre client
            {{> coachingPanelAttendingList attendeesList}}
          </div>
        </div>
      </div>
      {{/with}}
    </div>
    </div>
  </div>
</template>

<template name="coachingPanelAttendingList">
  <ul class="collection">
    {{#each attendees}}
    <li class="collection-item avatar">
      <span class="circle letter-circle">{{type}}</span>
      <span class="title">{{firstName}} {{lastName}}</span>
      <p>{{secondaryInfo}}
      </p>
      {{#if isClient}}
        <span class="secondary-content"><a href="#" class="cancelAttendee"><i class="material-icons">cancel</i></a></span>
      {{else}}
        <span class="secondary-content"><b style="font-size:18px;">{{pricePaid}} €</b></span>
      {{/if}}
    </li>
    {{else}}
      Aucun inscrit.
    {{/each}}
  </ul>
  <div class="row">
    <button class="btn blue darken-2 newAttendee"><i class="material-icons left">person_add</i>
      Inscrire un client</button>
  </div>
</template>

<template name="coachingPanelLessonDuplicate">
  <div class="row">
    <div class="row firstRow" style="padding-top:30px;">
      <button class="btn-flat btnReturn">
        <i class="material-icons left">keyboard_arrow_left</i>
        Retour</button>
    </div>
    <div class="card-panel">
      <h4>Dupliquer un cours à une nouvelle date</h4>
      <p>Vous pouvez multiplier les dates de vos cours en dupliquant plusiers fois.</p>
      <div class="row">
        {{#with lesson}}
        <form id="insertLessonByCoach">
          <div class="input-field col s12">
            <i class="material-icons left">title</i>
            {{title}}
          </div>
          <div class="input-field col s12 m6">
            <i class="material-icons left">drag_handle</i>
            {{shortDesc}}
          </div>
          <div class="input-field col s12 m6">
            <i class="material-icons left">view_headline</i>
            {{longDesc}}
          </div>
          <div class="input-field col s12 m4">
            Catégorie : {{category}}
          </div>
          <div class="col s12 m8">
            <div class="row">
              <div class="input-field col s12">
                <i class="material-icons left">location_on</i>
                {{address}}
              </div>
            </div>
          </div>
          <div class="input-field col s3">
            <i class="material-icons prefix">euro_symbol</i>
            <input id="price" type="number" max="100" min="5" step="0.1" onchange="changeCommission()" class="validate baseCalculation" required>
            <label for="price">Prix par participant</label>
          </div>
          <div class="input-field col s3">
            <i class="material-icons prefix">people</i>
            <input id="maxAttendees" type="number" max="30" min="0" class="validate" required>
            <label for="maxAttendees">Nombre de participants</label>
          </div>
          <div class="input-field col s3">
            <i class="material-icons prefix">update</i>
            <input id="duration" type="number" min="0" required>
            <label for="duration">Durée (en minutes)</label>
          </div>
          <div class="input-field col s3 center-align">
            Calcul de la commission par réservation sur Trys <br>
            <b><span class="commissionValue">2</span> €</b>
          </div>
          <div class="input-field col s6 m4">
            <i class="material-icons prefix">today</i>
            <input id="date" type="date" class="datepicker" required>
            <label for="date"></label>
          </div>
          <div class="input-field col s6 m4 center-align">
            <input type="checkbox" id="recurrent" />
            <label for="recurrent">
              <i class="material-icons">replay_5</i>Répéter 5 fois</label>
          </div>
          <div class="input-field col s6 m4">
            <i class="material-icons prefix">schedule</i>
            <input id="time" class="timepicker" type="time" required>
            <label for="time"></label>
          </div>
          <div class="input-field col s12">
            <i class="material-icons prefix">add</i>
            <input id="instructions" type="text" class="validate" length="350">
            <label for="instructions">Instructions supplémentaires</label>
          </div>
          <div class="input-field col m4 s6">
            <button type="submit" form="insertLessonByCoach" class="red accent-3 btn-border-2">
              <i class="material-icons">done</i>
              Confirmer</button>
          </div>
        </form>
        {{/with}}
      </div>
    </div>
  </div>
  <script>
    var category = this.category;
    changeCommission = function(){
      var commission=0.25;
      var price = $('#price').val();
      commission += price*0.15;

      $('.commissionValue').replaceWith('<span class="commissionValue">'+commission+'</span>');
    }

  </script>
</template>

<template name="coachingPanelLessonInsert">
  <div class="row">
    <div class="row firstRow" style="padding-top:30px;">
      <button class="btn-flat btnReturn">
        <i class="material-icons left">keyboard_arrow_left</i>
        Annuler</button>
    </div>
    <div class="card-panel">
      <h4>Nouveau cours</h4>
      <div class="row">
        <form id="insertLessonByCoach">
          <div class="input-field col s12">
            <i class="material-icons prefix">title</i>
            <input id="title" type="text" class="validate" required>
            <label for="title">Titre du cours (ex: XIntense Accro Yoga)</label>
          </div>
          <div class="input-field col s12 m6">
            <i class="material-icons prefix">drag_handle</i>
            <input id="shortDesc" type="text" length="150" class="validate" required>
            <label for="shortDesc">Courte description (max. 150 lettres)</label>
          </div>
          <div class="input-field col s12 m6">
            <i class="material-icons prefix">view_headline</i>
            <textarea id="longDesc" length="1000" class="materialize-textarea" required></textarea>
            <label for="longDesc">Longue description (max. 1000 lettres)</label>
          </div>
          <div class="input-field col s12 m4">
            <p>
              <input name="category" type="radio" id="yoga" value="Yoga"/>
              <label for="yoga">Yoga</label>
            </p>
            <p>
              <input name="category" type="radio" id="pilates" value="Pilates" />
              <label for="pilates">Pilates</label>
            </p>
            <p>
              <input name="category" type="radio" id="taiChi" value="Tai Chi" />
              <label for="taiChi">Tai Chi</label>
            </p>
          </div>
          <div class="col s12 m8">
            <div class="row">
              <div class="input-field col s12">
                <i class="material-icons prefix">location_on</i>
                <input id="street" type="text" class="validate" length="150" required >
                <label for="street">Rue et N°</label>
              </div>
            </div>
            <div class="row">
              <div class="input-field col s6">
                <i class="material-icons prefix">location_city</i>
                <input id="zip" type="text" class="validate" length="5">
                <label for="zip">Code postal</label>
              </div>
              <div class="input-field col s6">
                <i class="material-icons prefix">location_city</i>
                <input id="city" type="text" class="validate" length="150" required>
                <label for="city">Commune</label>
              </div>
            </div>
          </div>
          <div class="input-field col s3">
            <i class="material-icons prefix">euro_symbol</i>
            <input id="price" type="number" max="100" min="5" step="0.1" class="validate baseCalculation" onchange="changeCommission()" required>
            <label for="price">Prix par participant</label>
          </div>
          <div class="input-field col s3">
            <i class="material-icons prefix">people</i>
            <input id="maxAttendees" type="number" max="30" min="0" class="validate" required>
            <label for="maxAttendees">Nombre de participants</label>
          </div>
          <div class="input-field col s3">
            <i class="material-icons prefix">update</i>
            <input id="duration" type="number" min="0" required>
            <label for="duration">Durée (en minutes)</label>
          </div>
          <div class="input-field col s3">
            Calcul de la commission par réservation sur Trys <br>
            <b><span class="commissionValue">2</span> €</b>
          </div>
          <div class="input-field col s6 m4">
            <i class="material-icons prefix">today</i>
            <input id="date" type="date" class="datepicker" required>
            <label for="date"></label>
          </div>
          <div class="input-field col s6 m4 center-align">
            <input type="checkbox" id="recurrent" />
            <label for="recurrent">
              <i class="material-icons">replay_5</i>Répéter 5 fois</label>
          </div>
          <div class="input-field col s6 m4">
            <i class="material-icons prefix">schedule</i>
            <input id="time" class="timepicker" type="time" required>
            <label for="time"></label>
          </div>
          <div class="input-field col s12">
            <i class="material-icons prefix">add</i>
            <input id="instructions" type="text" class="validate" length="350">
            <label for="instructions">Instructions supplémentaires (Exemple: bâtiment avec porte rose, apporter son propre matériel, ...)</label>
          </div>
          <div class="input-field col s12">
            <div class="file-field input-field">
              <div class="btn cyan darken-3">
                <i class="material-icons left">insert_photo</i>
                <span>Photo</span>
                <input type="file" name="file" id="photo" accept="image/*" required>
              </div>
              <div class="file-path-wrapper">
                <input class="file-path validate" type="text" placeholder="Télécharger 1 photo pour illustrer votre cours.">
              </div>
            </div>
          </div>
          <div class="input-field col m4 s6">
            <button type="submit" form="insertLessonByCoach" class="red accent-3 btn-border-2">
              <i class="material-icons">done</i>
              Confirmer</button>
          </div>
        </form>
      </div>
    </div>
  </div>
  <script>
    var category = $("select").val();
    changeCommission = function(){
      var commission=0.25;
      var price = $('#price').val();
      commission += price*0.15;

      $('.commissionValue').replaceWith('<span class="commissionValue">'+commission+'</span>');
    }

  </script>
</template>

<template name="coachingPanelLessonInsertAttendees">
  <div class="row">
    <div class="row">
      <div class="row firstRow" style="padding-top:30px;">
        <button class="btn-flat btnReturn">
          <i class="material-icons left">keyboard_arrow_left</i>
          Retour</button>
      </div>
    </div>
    <div class="container">
      <div class="card-panel">
        <h4>Inscrire un client au cours</h4>
        <div class="row">
         <div class="col s12">
           <form id="newAttendee">
             <div class="input-field col s12">
               <i class="material-icons prefix">person</i>
               <input type="text" id="autocomplete-input" class="autocomplete">
               <label for="autocomplete-input">Nom ou prénom du client</label>
             </div>
             <div class="input-field col s12">
                <input type="checkbox" name="fromCard" value="true" id="fromCard" />
                <label for="fromCard">
                  Retirer 1 place sur une carte du client</label>
             </div>
             <div class="input-field col s6 m3">
               <button type="submit" form="newAttendee" class="btn red accent-3 btn-border-2">
                 Inscrire
               </button>
             </div>
           </form>
         </div>
       </div>
     </div>
    </div>
  </div>
  <script>
    var data={};
    var clients= Clients.find().fetch();
    for (var i =0;i<clients.length;i++){
      var lastName=clients[i].lastName + clients[i].firstName;
      data[lastName]=null;
    }
    $('input.autocomplete').autocomplete({
      data:data
  });
  </script>
</template>



<template name="coachingPanelClients">
  <br style="margin-top:20px;">
  <p class="flow-text">Vous pouvez gérer vos clients qui n'utilisent pas Trys en
     les enregistrant ici gratuitement.</p>
  <div class="row">
    <div class="col m8 s12">
      <button class="btn blue darken-2 newClient"><i class="material-icons left">person_add</i>
        Nouveau client</button>
      <div class="row">
        <div class="card-panel">
          <table class="bordered">
          <thead>
            <tr>
                <th data-field="firstName">Nom</th>
                <th data-field="lastName">Prénom</th>
                <th data-field="email">E-mail</th>
                <th data-field="tel">Téléphone</th>
                <th data-field="actions">Actions</th>
                <th></th>
            </tr>
          </thead>
          <tbody>
            {{#each clients}}
              <tr class="clickable">
                <td>{{lastName}}</td>
                <td>{{firstName}}</td>
                <td>{{email}}</td>
                <td>{{tel}}</td>
                <td><a class="editClient">
                      <i class="material-icons">edit</i></a>
                    <a class="deleteClient">
                      <i class="material-icons">delete</i></a>
                </td>
              </tr>
              {{else}}
              <tr >
                <td>-</td>
                <td>-</td>
                <td>-</td>
                <td>-</td>
                <td>-</td>
              </tr>
            {{/each}}
          </tbody>
        </table>
      </div>
      </div>
    </div>
    <div class="col m4 s12">
      <button class="btn blue darken-2 newCard"><i class="material-icons left">add_to_photos</i>
        Créer une carte</button>
      <div class="card-panel">
          <h4>Vos cartes</h4>
          {{#each coachCards}}
            <div class="card-panel cyan darken-3 white-text">
              <b style="font-size:18px;">{{name}}</b> <br>
              Validité : {{duration}} mois <br>
              Place : {{maxAttendings}} <br>
              <b>{{price}}</b> €
            </div>
          {{/each}}
      </div>
    </div>
  </div>
</template>

<template name="coachingPanelCardInsert">
  <br>
    <div class="row">
        <div class="col m6 s12">
          <button class="btn-flat btnReturn">
            <i class="material-icons left">keyboard_arrow_left</i>
            Retour</button>
        </div>
        <div class="col s12 m6">
          <div class="card-panel">
          <h3>Créer une nouvelle carte</h3>
          <form id="addCoachingCard" >
            <div class="row">
              <div class="input-field col s12">
                <input id="name" type="text" class="validate-required" required>
                <label for="name">Nom de la carte</label>
              </div>
            </div>
            <div class="row">
              <div class="input-field col s6">
                <input id="maxAttendings" type="number" min="0" class="validate-required" required>
                <label for="maxAttendings">Nombre de places</label>
              </div>
              <div class="input-field col s6">
                <input id="duration" type="number" min="0" class="validate-required" required>
                <label for="duration">Durée de validité (en mois)</label>
              </div>
            </div>
            <div class="row">
              <div class="input-field col s6">
                <input id="price" type="number" min="0" class="validate-required">
                <label for="price">Prix de la carte</label>
              </div>
            </div>
          </form>
          <div class="row">
            <div class="col s6">
              <button type="submit" form="addCoachingCard" class="btn-border-2">
                Enregistrer</button>
            </div>
          </div>
        </div>
    </div>
  </div>
</template>

<template name="coachingPanelClient">
  <br>
  <div class="row">
    <div class="col s3 m3">
      <button class="btn-flat btnReturn">
        <i class="material-icons left">keyboard_arrow_left</i>
        Retour</button>
    </div>
    <div class="col s6 m6">
      <button class="btn cyan darken-2" id="updateClient"><i class="material-icons left">edit</i>
        Modifier</button>
      <button class="btn red accent-2" id='deleteClient'><i class="material-icons left">delete</i>
        Supprimer</button>
    </div>
  </div>
  <div class="row" id="main">
    <div class="col m6 s12 well" id="leftPanel">
        <div class="row">
            <div class="col m12">
              <div class="card-panel">
                {{#with client}}
                  <table class="bordered">
                    <tbody>
                      <tr>
                        <td>Nom</td>
                        <td><b>{{lastName}}</b></td>
                      </tr>
                      <tr>
                        <td>Prénom</td>
                        <td><b>{{firstName}}</b></td>
                      </tr>
                      <tr>
                        <td>E-mail</td>
                        <td><b>{{email}}</b></td>
                      </tr>
                      <tr>
                        <td>Téléphone</td>
                        <td><b>{{tel}}</b></td>
                      </tr>
                    </tbody>
                  </table>
                {{/with}}
              </div>
            </div>
        </div>
        <div class="row">
          <div class="card-panel">
            <h4>Ses cartes</h4>
            {{#each cards}}
              <div class="card-panel hoverable cyan darken-3 white-text">
                <b style="font-size:18px;">{{name}}</b>  <br>
                Valide jusqu'au {{expDate}} <br>
                {{attendingsLeft}} places restantes<br>
                <button class="btn cyan darken-3 editClientCard" style="margin-bottom:0px;">
                      <i class="material-icons white-text">edit</i></button>
                <button class="btn cyan darken-3 deleteClientCard" style="margin-bottom:0px;">
                      <i class="material-icons white-text">delete</i></button>
              </div>
            {{/each}}
            <div class="row">
              <form id="addCardToClient" >
                <div class="row">
                  <div class="input-field col s8">
                    <select id="selectCoachCards" >
                      <option value="" disabled selected>Quelle carte ?</option>
                      {{#each selectCards}}
                        <option value="{{_id}}">{{name}}</option>
                      {{/each}}
                    </select>
                  </div>
                  <div class="col s4">
                    <button class="btn red accent-3 addCardTwo btn-border-2" type="submit" form="addCardToClient" onclick="showSelect()">Ajouter</button>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
      <div class="col m6 s12" id="rightPanel">
        <div class="row">
          <div class="col m12 s12">
            <div class="card-panel">
              <h4>Inscriptions</h4>
              {{#each reservation in reservations}}
                {{> clientReservation reservation}}
              {{else}}
                Aucune inscription.
              {{/each}}
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="modalEditClientCard" class="modal">
      <div class="modal-content">
        <h4>{{cardName}}</h4>
        <form id="editClientCardForm">
          <div class="row">
            <div class="row">
              <div class="col s12 m6">
                <div class="input-field">
                  <input id="expDate" name="expDate" type="date" class="validate" value="{{expirationDate}}">
                  <label class="active" for="expDate">Date d'expiration</label>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col s12 m6">
                <div class="input-field">
                  <input id="attendingsLeft" type="number" step=1 min="0" value="{{attLeft}}">
                  <label class="active" for='attendingsLeft'>Places restantes</label>
                </div>
              </div>

            </div>
          </div>
          <div class="row">
            <div class="col s6 m4">
              <button type="submit" form='editClientCardForm' class="btn red accent-3">
                Enregistrer
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>

    <script>
      showSelect = function(){
        $('#selectCoachCards').material_select();
        $(".addCardTwo").show();
      }
    </script>
</template>

<template name="coachingPanelClientInsert">
  <div class="row">
    <div class="col m3 hide-on-small-only">

    </div>
    <div class="col m6 s12">
      <div class="card-panel">
        <h4>Ajouter un client</h4>
        <form id="addCoachingClient" >
          <div class="row">
            <div class="input-field col s6">
              <input id="firstName" name="firstName" type="text" class="validate-required" required>
              <label for="firstName">Prénom</label>
            </div>
            <div class="input-field col s6">
              <input id="lastName" name="lastName" type="text" class="validate-required" required>
              <label for="lastName">Nom</label>
            </div>
          </div>
          <div class="row">
            <div class="input-field col s6">
              <input id="email" type="email" name="email" class="validate">
              <label for="email">E-mail</label>
            </div>
            <div class="input-field col s6">
              <input id="tel" type="text" name="tel" class="validate">
              <label for="tel">Téléphone</label>
            </div>
          </div>
          <div class="row">
            <div class="col s6">
              <button class="btn red accent-3 btn-border-2" type="submit" form="addCoachingClient">Ajouter</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>

</template>

<template name="coachingPanelClientUpdate">
  <br>
  <div class="row">
    <div class="col s3 m3">
      <button class="btn-flat btnReturn">
        <i class="material-icons left">keyboard_arrow_left</i>
        Annuler</button>
    </div>
    <div class="col s6 m6">
    </div>
  </div>
  <div class="row" id="main">
    <div class="col m6 s12 well" id="leftPanel">
        <div class="row">
            <div class="col m12">
              <div class="card-panel">
                <form id="updateClientForm">
                {{#with client}}
                  <table class="bordered">
                    <tbody>
                      <tr>
                        <td>Nom</td>
                        <td>
                          <div class="input-field">
                            <input id="lastName" name="lastName" type="text" class="validate-required" value="{{lastName}}">
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>Prénom</td>
                        <td><div class="input-field">
                          <input id="firstName" name="firstName" type="text" class="validate-required" value="{{firstName}}">
                        </div></td>
                      </tr>
                      <tr>
                        <td>E-mail</td>
                        <td><div class="input-field">
                          <input id="email" name="email" type="email" class="validate-required" value="{{email}}">
                        </div></td>
                      </tr>
                      <tr>
                        <td>Téléphone</td>
                        <td><div class="input-field">
                          <input id="tel" name="tel" type="text" class="validate" value="{{tel}}">
                        </div></td>
                      </tr>
                    </tbody>
                  </table>
                  <button type="submit" form="updateClientForm" class="btn red accent-3">Enregistrer</button>
                {{/with}}
                </form>
              </div>
            </div>
        </div>
      </div>
    </div>
</template>


<template name="clientReservation">
  <b style="font-size:18px;">{{title}}</b><br>
  le {{dateTime}}
  <div class="divider"></div>
</template>

<template name="coachingPanelContact">
  <h2> </h2>
  <div class="card-panel white" style="padding-top:30px;">
    <div class="row">
    <div class="col m6 s12">
      <div class="container">
        <h3 class="uppercase">Contact rapide</h3>
        <p>
          Vous pouvez nous joindre rapidement en nous visitant, par téléphone ou via le chat direct.
        </p>
        <hr>
        <p>
            Rue de la Science 23
            <br> 1000 Bruxelles
        </p>
        <hr>
        <p>
            <strong>Téléphone:</strong> 0472.38.41.52 (Fayçal Arbai)
            <br>
        </p>
      </div>
    </div>
    <div class="col m6 s12">
      <div class="container">
        <h3 class="uppercase">Formulaire</h3>
        <form class="form-email" id="form" data-success="Merci d'avoir rempli ce formulaire, nous rentrerons en contact très prochainement"
            data-error="Veuillez remplir l'ensemble des champs correctement, s'il vous plaît.">
            <div class="row">
              <div class="input-field col s12">
                <input id="subject" type="text" class="validate-required">
                <label for="subject">Sujet</label>
              </div>
            </div>
            <div class="row">
              <div class="input-field col s12">
                <textarea id="comments" class="materialize-textarea" required></textarea>
                <label for="comments">Message</label>
              </div>
            </div>
          <button type="submit" class="btn-1 btn-border-2">Envoyer</button>
        </form>
      </div>
    </div>
  </div>
</div>
</template>
