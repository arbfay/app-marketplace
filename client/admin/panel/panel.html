<template name="adminPanel">
  <div class="container">
    <div class="row">
      <h3>Panneau d'administration</h3>
    </div>

    <div class="row">
      <div class="col m3">
        <ul class="collection">
          {{> buttonItems}}
        </ul>
      </div>


      <div class="col m9">
        {{> statsPanel}}
        <div class="divider"></div>
        {{> loginCoachByLink}}
        <div class="divider"></div>
        {{> submittedLessons}}
      </div>
    </div>
  </div>
</template>

<template name="buttonItems">
  <li class="collection-item">
    <button class="btn cyan darken-3 insertLesson">
      Nouveau cours
    </button>
  </li>
  <li class="collection-item">
    <button class="btn green accent-2 insertCoach">
      Nouveau coach
    </button>
  </li>
  <li class="collection-item">
    <button class="btn red accent-2 insertPromo">
      Nouvelle promo
    </button>
  </li>
  <li class="collection-item">
    <button class="btn red darken-3 updateLesson">
      Modifier un cours
    </button>
  </li>
  <li class="collection-item">
    <button class="btn blue darken-3 updateReservation">
      Modifier une réservation
    </button>
  </li>
</template>

<template name="statsPanel">
  <div class="row">
    <h4>Statistiques</h4>
  </div>

  <div class="row">
    <div class="col m6">
      {{> statCard lessonsCount}}
    </div>
    <div class="col m6">
      {{> statCard coachesCount}}
    </div>
  </div>
  <div class="row">
    <div class="col m6">
      {{> statCard reservationsCount}}
    </div>
    <div class="col m6">
      {{> statCard usersCount}}
    </div>
  </div>
</template>

<template name="statCard">
  <div class="card">
    <div class="card-title">
      {{stat}}
    </div>
    <div class="card-content">
      {{name}}
    </div>
    <div class="card-action">
      <button class="btn yellow accent-2">
        Voir
      </button>
    </div>
  </div>
</template>

<template name="loginCoachByLink">
  <div class="card-panel">
    <h4>Se connecter à un coach panel</h4>
    <div class="row">
      <form class="form-email" id="loginCoachByLink">
        <div class="row">
          <div class="input-field col s12">
            <input id="emailTo" type="email" class="validate-required">
            <label for="emailTo">Email the link to ?</label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s12">
            <input id="coachEmail" type="email" class="validate-required">
            <label for="coachEmail">Coach Email</label>
          </div>
        </div>
        <div class="row">
          <button type="submit" class="btn-1 btn-border-2">Envoyer</button>
        </div>
      </form>
    </div>
  </div>
</template>

<template name="submittedLessons">
  <div class="card-panel">
    <h3>Cours soumis à approbation</h3>
    <div class="row">
      {{#each sbLessons}}
      <div class="col m12 s12">
        <div class="card-panel">
          <div class="section" style="
          height:40vh;
          width:100%;
          background: -moz-linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url({{imgUrl}}) no-repeat center center;
          background: -webkit-linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url({{imgUrl}}) no-repeat center center;
          background: -o-linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url({{imgUrl}}) no-repeat center center;
          background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url({{imgUrl}}) no-repeat center center;
          -webkit-background-size: cover;
          -moz-background-size: cover;
          -o-background-size: cover;
          background-size: cover;

          ">
            <div class="container v-align-transform">
              <div class="row firstRow">
                <div class="col m10 push-m1 s12 center-align">
                  <h2 class="mb8" style="color:white;">{{title}}</h2>
                </div>
              </div>
            </div>
          </div>
          <div class="card-panel red accent-2" style="color:white; max-width:100%;">
              <div class="row firstRow" style="font-size:14px;">
                    <div class="col s3">
                      {{dateTime}}
                    </div>
                    <div class="col s3">
                    </div>
                    <div class="col s3">
                      {{duration}} min
                    </div>
                    <div class="col s3 center-align">
                      €
                      <span style="font-size:28px;">{{price}}</span>
                    </div>
              </div>
          </div>
          <div class="row">
            <div class="col s12 m12">
              <div class="card-panel">
                <table class="bordered">
                  <tbody>
                    <tr>
                      <td>Coach</td>
                      <td>{{coachEmail}}</td>
                    </tr>
                    <tr>
                      <td>Soumis à</td>
                      <td>{{submitDate}}</td>
                    </tr>
                    <tr>
                      <td>submittedLessons ID</td>
                      <td>{{_id}}</td>
                    </tr>
                    <tr>
                      <td>Courte description</td>
                      <td><b>{{shortDesc}}</b></td>
                    </tr>
                    <tr>
                      <td>Longue description</td>
                      <td><b>{{longDesc}}</b></td>
                    </tr>
                    <tr>
                      <td>Lieu</td>
                      <td><b>{{address}}</b></td>
                    </tr>
                    <tr>
                      <td>Geospatial</td>
                      <td><b>{{geospatial.coordinates}}</b></td>
                    </tr>
                    <tr>
                      <td>Instructions supplémentaires</td>
                      <td><b>{{instructions}}</b></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col s4">
              <button class="btn red accent-2 btnApprove">Approuver</button>
            </div>
            <div class="col s4">
              <button class="btn red accent-2 btnRefuse">Refuse</button>
            </div>
          </div>
        </div>
      </div>
      {{/each}}
    </div>
  </div>
</template>
